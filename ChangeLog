2002-12-30  Adam Fedor  <fedor@gnu.org>

	* ld_lib_path.sh: Use DYLD_LIBRARY_PATH on darwin
	* ld_lib_path.csh: Idem.
	* target.make (darwin): Don't set DYLIB_COMPATIBILITY_VERSION,
	set DYLIB_CURRENT_VERSION correctly, link to LIB_LINK_INSTALL_NAME.

Mon Dec 30 16:38:16 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	A new library-combo apple-apple-apple has been added, and made the
	default on Apple OSX systems.
	* library-combo.make (OBJC_RUNTIME): Variable removed, it's
	redundant with OBJC_RUNTIME_LIB.
	* target.make: Check OBJC_RUNTIME_LIB, not OBJC_RUNTIME.
	* common.make: For libFoundation, added backward compatibility
	fixup for header locations.
	* configure.ac: Map gnu library combo to gnu-gnu-gnu, nx library
	combo to nx-nx-nx, apple library combo to apple-apple-apple.  Use
	apple-apple-apple library-combo on darwin by default.  Use
	-DNeXT_RUNTIME for OBJC_RUNTIME_LIB = apple.  Print out a message
	that we are checking for the library-combo, and which one we
	choose.
	* configure: Regenerated.
	* common.make: To check that we are on an Apple system,
	check FOUNDATION_LIB against apple, not nx.
	* debugapp.in: Recognize apple library combo.
	* executable.template.in: Idem.
	* library-combo.make (RUNTIME_FLAG): For NeXT and Apple runtime,
	always set to -fnext-runtime, regardless of the value of
	OBJC_COMPILER, because OBJC_COMPILER is set in target.make, which
	is read after library-combo.make, so we can't use it here.
	* library-combo.make: Map apple library-combo to
	apple-apple-apple.  Added code for apple OBJC_RUNTIME_LIB,
	FOUNDATION_LIB and GUI_LIB, copied from the one for nx
	library-combo.
	* target.make: For darwin systems, replace all checks for 'nx'
	runtime and foundation lib with checks for 'apple'.
	* Instance/application.make: Apple code is now executed for
	'apple' runtime/foundation/gui lib, not 'nx'.  Removed checks for
	OBJC_COMPILER == NeXT; replace them with checks for FOUNDATION_LIB
	== apple.
	* Instance/bundle.make: Idem.
	* Instance/framework.make: Idem.
	* Instance/gswapp.make: idem.
	
Wed Dec 25 03:09:34 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* Instance/application.make: Implemented support for Apple native
	bundle organization, and Apple Info.plist.

Wed Dec 25 03:04:42 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* target.make (DYLIB_INSTALL_NAME): Variable removed, replaced
	by LIB_LINK_INSTALL_NAME.
	* Instance/library.make (LIB_LINK_INSTALL_NAME): Define.
	* Instance/framework.make (LIB_LINK_INSTALL_NAME): Define.
	* Instance/framework.make: Do not build and link the dummy
	framework class on Apple.  On Apple, create the symbolic link
	xxx.framework/xxx --> the shared library.  Modified NSExecutable
	value on Apple.  New install code for Apple.
	
Wed Dec 25 02:53:19 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* Master/application.make (internal-clean): Removed special code
	for OBJC_COMPILER = NeXT.

Fri Dec 20 17:27:16 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* library-combo.make (LIBRARIES_DEPEND_UPON, BUNDLE_LIBS): For nx
	foundation or gui, add necessary -framework flags.
	* target.make (DYLIB_INSTALL_NAME): For darwin, define using
	FINAL_LIBRARY_INSTALL_DIR rather than hardcoding
	GNUSTEP_SYSTEM_ROOT, so that it works no matter where a library is
	installed.
	
Fri Dec 20 16:21:40 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* Instance/tool.make (FINAL_TOOL_INSTALL_DIR): New variable;
	support it.  By setting this variable before including the
	makefile, you can fine control where you want the tool executable
	to be installed.

Sun Dec 15 16:22:13 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* Instance/Shared/stamp-string.make: New file providing
	infrastructure for very efficient stamp string support.
	* GNUmakefile.in (INSTANCE_SHARED_MAKE_FILES): Added stamp-string.make
	* Instance/application.make: Use Instance/Shared/stamp-string.make
	to rebuild Info.plist and xxx.desktop iff there is a clear reason
	to do so.
	* Instance/bundle.make: Use Instance/Shared/stamp-string.make
	to make sure we rebuild the Info.plist whenever the make variables
	used in it change.

Sat Dec 14 02:42:02 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* library-combo.make: Quick attempt at fixing/updating
	foundation/appkit flags to compile with nx library-combo on Mac
	OSX.  Dropped NeXTstep iconheader code.
	* Instance/application.make: Quick attempt at fixing/updating
	building nx applications.  Added missing rule to build directory,
	and dropped NeXTstep iconheader code.
	
Sat Dec 14 02:36:00 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* configure.ac (AC_CONFIG_FILES): Removed config.h, which is 
	already in AC_CONFIG_HEADER.
	* configure: Regenerated.

Thu Dec 12 00:03:30 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* Instance/framework.make: Fixed typo in warning message.

2002-12-10  Adam Fedor  <fedor@gnu.org>

	* clean_os.sh: Filter version from darwin6.
	* target.make (darwin): Was darwin6
	(irix): Updated for shared libraries (from Carl Eugen Hoyos).

	* Documentation/machines.texi: Updated.

Mon Dec  9 12:04:49 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* Instance/framework.make (internal-framework-install_): Fixed
	creating the installation directory for headers in DLL case, so
	that it uses HEADER_FILES_INSTALL_DIR (Patch from David Ayers
	<d.ayers@inode.at>).

2002-12-05  Mirko Viviani  <mirko.viviani@rccr.cremona.it>

	* Instance/framework.make ($(FRAMEWORK_FILE)): create the link with
	GNUSTEP_INSTANCE name instead of FRAMEWORK_NAME. (patch from David
	Ayers <d.ayers@inode.at>)

2002-12-03  Mirko Viviani  <mirko.viviani@rccr.cremona.it>

	* Instance/framework.make ($(FRAMEWORK_FILE)): remove the link before
	creating a new one.

2002-12-02  Mirko Viviani  <mirko.viviani@rccr.cremona.it>

	* Instance/framework.make ($(FRAMEWORK_FILE)): link
	lib<frameworkName>.so to <frameworkName> for dynamic loading.

Mon Dec  2 12:43:23 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* Instance/framework.make: Added support for XXX_HEADER_FILES_DIR
	and XXX_HEADER_FILES_INSTALL_DIR (Patch from David Ayers
	<d.ayers@inode.at>).

2002-11-29  Adam Fedor  <fedor@gnu.org>

	* target.make (darwin1): Remove
	(darwin6): Add.

2002-11-27 Richard Frith-Macdonald <rfm@gnu.org>

	* user_home.c: Use USERPROFILE for home directory on windoze.
	* Documentation/RADME.MinGW: Fix typo reported by Tom Koelman

2002-11-19  Adam Fedor  <fedor@gnu.org>

	* Version: 1.5.1
	* Documentation/news.texi: Updated.

2002-11-19  Adam Fedor  <fedor@gnu.org>

	* create_domain_dir_tree.sh (mydir): Use `command` not
	$(command), which doesn't work with all sh's.

2002-11-15  Adam Fedor  <fedor@gnu.org>

	* common.make: Remove duplicate OBJC_RUNTIME_LIB and FOUNDATION_LIB
	setup
	* library-combo.make (GNUSTEP_FND_DIR, RUNTIME_FLAG): Extra flags
	moved from common.make
	(FOUNDAION_LIB=gnu): setup moved from common.make.

	* target.make (darwin5/NeXT cc) (DYLIB_EXTRA_FLAGS,
	DYLIB_DEF_FRAMEWORKS, DYLIB_DEF_LIBS): Comment out or remove.

Wed Nov  6 15:26:07 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* GNUmakefile.in (install): Fixed typo - was installing
	config.site into GNUSTEP_SYSTEM_ROOT/shared rather than
	GNUSTEP_SYSTEM_ROOT/share.

Wed Nov  6 12:31:40 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	Rewritten framework/subproject interaction so that it supports
	FRAMEWORK_NAME containing multiple framework names.  Framework API
	change warning: CURRENT_VERSION_NAME replaced by
	XXX_CURRENT_VERSION_NAME; DEPLOY_WITH_CURRENT_VERSION replaced by
	XXX_DEPLOY_WITH_CURRENT_VERSION.
	* common.make (CURRENT_VERSION_NAME): Do not define here.
	(DEPLOY_WITH_CURRENT_VERSION): Idem.
	* Instance/framework.make: Added support for
	xxx_CURRENT_VERSION_NAME and xxx_DEPLOY_WITH_CURRENT_VERSION.
	* rules.make (FRAMEWORK_NAME): Do not define here.
	(FRAMEWORK_DIR_NAME): Idem.
	(FRAMEWORK_VERSION_DIR_NAME): Idem.
	* Master/framework.make (FRAMEWORK_NAME): Set here.
	* Instance/framework.make (FRAMEWORK_DIR_NAME,
	FRAMEWORK_VERSION_DIR_NAME): Set here.
	* Master/rules.make (%.subprojects): Pass to submakes for
	subprojects OWNING_PROJECT_HEADER_DIR instead of FRAMEWORK_NAME
	and FRAMEWORK_VERSION_DIR_NAME; set the new variable manually
	depending on the instance we're building.
	(%.variables): Similar change.
	* Master/subproject.make (build-headers): Always define this rule;
	don't depend on FRAMEWORK_NAME.
	(internal-install, internal-uninstall: Always run install /
	uninstall, no matter what FRAMEWORK_NAME is.
	* rules.make (CURRENT_FRAMEWORK_HEADERS_FLAG): Renamed to
	DERIVED_SOURCES_HEADERS_FLAG.  Include it also if
	OWNING_PROJECT_HEADER_DIR is non empty.
	* Instance/subproject.make: Rewritten header copying for
	frameworks and such; now manage headers basing on the
	OWNING_PROJECT_HEADER_DIR variable only.
	
Wed Nov  6 12:09:09 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* Instance/framework.make (internal-framework-distclean): Do not
	remove DERIVED_SOURCES; already removed on make clean.

Wed Nov  6 10:56:55 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* Instance/application.make (.PHONY): Added
	internal-app-copy_into_dir.
	(internal-app-copy_into_dir): Implemented.

2002-11-05  Adam Fedor  <fedor@gnu.org>

	* Documentation/README.MinGW: Add note about setting
	installation prefix.
	* Documentation/faq.texi: Typo.
	* Documentation/machines.texi: Updates.
	* Documentation/userfaq.texi: Idem.

Mon Nov  4 14:59:27 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* Instance/documentation.make (internal-doc-install_): Moved
	before the submakefile fragments are included, to fix installation
	problem.

Mon Nov  4 12:44:07 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* GNUmakefile.in (distclean): Remove fixpath.sh.

Mon Nov  4 12:08:58 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* Instance/Documentation: New directory.
	* Instance/Documentation/autogsdoc.make: New file.
	* Instance/Documentation/gsdoc.make: New file.
	* Instance/Documentation/javadoc.make: New file.
	* Instance/Documentation/latex.make: New file.
	* Instance/Documentation/texi.make: New file.
	* Instance/documentation.make: Include only the appropriate
	documentation makefiles; most code moved into the specific
	documentation makefiles.
	* GNUmakefile.in (install): Create the
	GNUSTEP_MAKEFILES/Instance/Documentation directory.
	(INSTANCE_DOC_MAKE_FILES): List the new makefiles in this
	variable.
	(install): Install them.
	* rules.make ($(GNUSTEP_MAKEFILES)/Instance/Documentation/*.make):
	New rule to let make know that all documentation makefiles are
	always up to date.
	
Fri Nov  1 14:00:11 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* common.make (GNUSTEP_MAKEINFO, GNUSTEP_MAKEINFO_FLAGS,
	GNUSTEP_MAKETEXT, GNUSTEP_MAKETEXT_FLAGS, GNUSTEP_TEXI2DVI,
	GNUSTEP_TEXI2DVI_FLAGS, GNUSTEP_TEXI2HTML,
	GNUSTEP_TEXI2HTML_FLAGS, GNUSTEP_DVIPS, GNUSTEP_DVIPS_FLAGS,
	AUTOGSDOC, JAVADOC, ALL_JAVADOCFLAGS): Moved into
	Instance/documentation.make
	* rules.make (ALL_JAVADOCFLAGS): Moved into
	Instance/documentation.make.
	* Instance/documentation.make: Set all these documentation
	specific flags and options here.
	(ADDITIONAL_MAKEINFO_FLAGS, ADDITIONAL_MAKETEXT_FLAGS,
	ADDITIONAL_TEXI2DVI_FLAGS, ADDITIONAL_TEXI2HTML_FLAGS,
	ADDITIONAL_DVIPS_FLAGS): New variables.

Fri Nov  1 13:36:25 2002  Nicola Pero  <n.pero@mi.flashnet.it>

	* ChangeLog: Moved into ChangeLog.1
